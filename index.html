
<html>
    
<!-- Mirrored from examples.phaser.io/embed.php?f=box2d/car+on+terrain.js&v=2.2.2.box2d by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Nov 2018 04:09:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="UTF-8" />
        <title>Phaser Example Runner</title>
        <meta name="viewport" content="initial-scale=1 maximum-scale=1 user-scalable=0 minimal-ui" />
 
        <script src="phaser.2.2.2.box2d.min.js" type="text/javascript"></script>
		<script src="jquery-3.3.1.min.js" type="text/javascript"></script>
		<script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>

        <style>
p{
  font-weight: bold;
  font-size: 2.5em;
  padding-top: 40px;
}
img{
  cursor:pointer;
  width: 100%; 
  height: 200px;
  border-style: solid; 
  border-color: #000000 #000000; 
  border-width: medium;
}
input[type=file] {
    margin: 0 auto;
}
            body {width: 100%;
            	height: 100%;
                margin: 0px;
                padding: 0px;
                font-family: Arial;
                font-size: 14px;
                background-color: #000000;
                color: #fff;
            }
            #idtext{
z-index: 3;
position: absolute;
top: 90px;
left: 15px;
            }
            #phaser-example{
z-index: 2;
  width: 100%;
            	height: 100%;          }
            	#idbt{
            		position: absolute;
            		top: 12px;
            		left: 370px;
            	}
            		#idbt2{
            		position: absolute;
            		top: 12px;
            		left: 499px;
            	}


                #idpa{
                    position: absolute;
                    top: 50%;
                    left: 80%;
                    z-index: 12;
                }


	#idpmensaje{
position: absolute;
top: -3%;
width: 20%;
background-color: #000000;
font-size: 18px;
color: #fff;
z-index:3;
	}


#phaser-example{
	position: absolute;
	top:0%;
	left: 0%;
	width: 100%;
	height: 100%;
	z-index:1;
	background-color: aqua
}











        </style>
    </head>
    <body>




<p id="idpmensaje">ppppppppppppp</p>
        
        

        <div id="phaser-example"></div>

		<script type="text/javascript">
		

//minumero  3229375628





		var vw=window.innerWidth*0.77/0.77;
var  vh=window.innerHeight*0.8/0.8;
//console.log(window.innerWidth +"   "+vw);

var game;

var vsube;
var subiocualquiera=false;


    var eliminarcualquierobjetos=false;
    var  linearojav;
    var arraylineasverticalroja=[];
var fondoborar;
var handle1;
var handle2;
var line1;
var dpx=vw/2;
var dpy=vh/2;
var spd;
var arrayspd=[];
var dientposx=sc*35;
var deltadientposx=sc*37;
var sc=vw/1182.72;

var idxdientes1=0;

var arrarylineasvertrojassp=[];

var elpunto="";
 elpunto.x=0;
elpunto.y=0;



var boleliminarlinearojavertical=false;

var idobjlineverticalrojaelimina="";
var bolcrealineavertivalroja=false;
var soydelostemplinerojaverti=false;

var arrlieansrojas=[];

var idxbtncrearlineroja=0;
var bolcrearlinerojaverti=false;

var splineaverticalrojatemp;
var  cauntosobjslienavertirojacreado=0;
var estocadodiente1lienarojaveti=false;
var arrayvfpahser=[];


function iniciabody(){

   
var config = {
apiKey: "AIzaSyDDeEsPxBYxzisg4GDOpmYbHBLvIw6L_IY",
authDomain: "mejorvargaslleras-4fd2e.firebaseapp.com",
databaseURL: "https://mejorvargaslleras-4fd2e.firebaseio.com",
projectId: "mejorvargaslleras-4fd2e",
storageBucket: "mejorvargaslleras-4fd2e.appspot.com",
messagingSenderId: "912759721594"
};
firebase.initializeApp(config);
traesolounavesphaser();


   




}







  function traesolounavesphaser(){
    firebase.database().ref().child("phaser").once("value", function(snapshot) {

       arrayspd=[];
        arrayvfpahser=[];
        todoiniciadenuenvo();
      //  document.getElementById("divodontograma").style.display="block";
      //  document.getElementById("idmenueleimirobjetos").style.display="block";
        arrayvfpahser=snapshot.val();

        iniciaphaser();
  

      }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
      });

  }







  function iniciaphaser(){


 game = new Phaser.Game(vw, vh, Phaser.CANVAS, 'phaser-example', { preload: preload2,create: create2, update: update2, render: render2 });

}




































function pareload(){location.reload();}
function iniciatodo(){
	truckBody.x=0;
	truckBody.y=90;
	rd.x=0;
	ri.y=-44;
	ri.x=0;
	rd.y=-44;
	
}


function llama2(thiss){
	escribpsi(thiss.id);
}

















function todoiniciadenuenvo(){
    // solo iables 


     vsube;
 subiocualquiera=false;





   vw=window.innerWidth*0.77/0.77;
 vh=window.innerHeight*0.8/0.8;
//console.log(window.innerWidth +"   "+vw);


boleliminarlinearojavertical=false;

idobjlineverticalrojaelimina="";
bolcrealineavertivalroja=false;
soydelostemplinerojaverti=false;

arrlieansrojas=[];

idxbtncrearlineroja=0;
bolcrearlinerojaverti=false;

splineaverticalrojatemp;
 cauntosobjslienavertirojacreado=0;
estocadodiente1lienarojaveti=false;






    arrayvfpahser=[];
    arrayvfpahser=[];
    eliminarcualquierobjetos=false;
     linearojav;
    arraylineasverticalroja=[];
fondoborar;
handle1;
handle2;
line1;
dpx=vw/2;
dpy=vh/2;
spd;
arrayspd=[];
dientposx=sc*35;
deltadientposx=sc*37;
sc=vw/1182.72;

idxdientes1=0;

arrarylineasvertrojassp=[];

elpunto="";
elpunto.x=0;
elpunto.y=0;





}

































var huesi1;


function preload2() {

//game.physics.startSystem(Phaser.Physics.ARCADE);
game.load.image('d', 'diente.png');

game.load.image('lineavroja', 'lineav.png');

}

function create2() {


game.stage.backgroundColor = "#000000";

creleinemove();











try {    escribep("dentro try");


for(var i in arrayvfpahser["dientes1"]){
cread(i, parseFloat(arrayvfpahser["dientes1"][i].posx), parseFloat(arrayvfpahser["dientes1"][i].posy),parseFloat(arrayvfpahser["dientes1"][i].diente));
    }




    for(var i in arrayvfpahser["lineaverticalroja"]){
  //  console.log(arrayvfpahser["lineaverticalroja"][i]);
  //  console.log(arrayvfpahser["lineaverticalroja"][i]);
    creadlineavertroja(i, parseFloat(arrayvfpahser["lineaverticalroja"][i].posx), parseFloat(arrayvfpahser["lineaverticalroja"][i].posy));


    escribep("dentro del for");

}


} catch (error) {
    escribep("noexisteerror");
}









}





var idcorre=0;

function update2() {
  //  idcorre=  idcorre+0.02;
//escribep(idcorre);


//escribep(arrlieansrojas.length+"     ccccc        "+cauntosobjslienavertirojacreado+" estocadodiente1lienarojaveti  " +estocadodiente1lienarojaveti);


}

function render2() {



}

function escribep(st){
    //document.getElementById("idptitulo").innerHTML=st;
	document.getElementById("idpmensaje").innerHTML=st;
}


function fd1(thiss){
  escribep(thiss.id+"   diente   "+thiss.diente+"  "+ thiss.x/vw);
  var vsube={posx:thiss.x/vw,posy:thiss.y/vh,iddiente:thiss.id};



if(bolcrealineavertivalroja){ //sube();
    arrlieansrojas[arrlieansrojas.length-1].sp.position=thiss.position; 
   // alert(thiss.position);
    estocadodiente1lienarojaveti=true;
    arrlieansrojas[arrlieansrojas.length-1].sp.enhueso=true;
    arrlieansrojas[arrlieansrojas.length-1].sp.estehueso=thiss.id;
    arrlieansrojas[arrlieansrojas.length-1].sp.subeafire=  vsube;
    bolcrealineavertivalroja=false;
}



}

// crela la linea grilla

function creleinemove(){/*
    handle1 = game.add.sprite(vw/2, vh*0, 'd', 0);
    handle1.anchor.set(0.5);
    handle1.inputEnabled = true;
    handle1.input.enableDrag(true);

    handle2 = game.add.sprite(vw/2, vh*1, 'd', 0);
    handle2.anchor.set(0.5);
    handle2.inputEnabled = true;
    handle2.input.enableDrag(true);

    line1 = new Phaser.Line(handle1.x, handle1.y, handle2.x, handle2.y);*/

}


//  fin crela la linea grilla

// crea en phaser verdadero liena  rojavertical

function creadlineavertroja(i,porcenx,porceny){// creya  a los dientes 
    arrarylineasvertrojassp.push({spd:game.add.sprite(vw*porcenx,porceny*vh, 'lineavroja'),id: arrarylineasvertrojassp.length});
    arrarylineasvertrojassp[arrarylineasvertrojassp.length-1].spd.id=i;
    arrarylineasvertrojassp[arrarylineasvertrojassp.length-1].spd.anchor.set(0.5);
    arrarylineasvertrojassp[arrarylineasvertrojassp.length-1].spd.scale.set(sc);
    arrarylineasvertrojassp[arrarylineasvertrojassp.length-1].spd.inputEnabled = true;

  arrarylineasvertrojassp[arrarylineasvertrojassp.length-1].spd.input.useHandCursor = true;
   arrarylineasvertrojassp[arrarylineasvertrojassp.length-1].spd.events.onInputDown.add(flineasverticalroja, this);


}

// fin // crea en phaser verdadero liena  rojavertical






// crea  los dientes 

function cread(i,porcenx,porceny,dientex){
    arrayspd.push({spd:game.add.sprite(vw*porcenx,vh*porceny, 'd'),id: arrayspd.length});
    arrayspd[arrayspd.length-1].spd.id=i;
	arrayspd[arrayspd.length-1].spd.diente=dientex;
    arrayspd[arrayspd.length-1].spd.anchor.set(0.5);
    arrayspd[arrayspd.length-1].spd.scale.set(sc);
    arrayspd[arrayspd.length-1].spd.inputEnabled = true;

    arrayspd[arrayspd.length-1].spd.input.useHandCursor = true;
    arrayspd[arrayspd.length-1].spd.events.onInputDown.add(fd1, this);
	console.log(44444444444);
  //arrayspd[arrayspd.length-1].spd.input.enableDrag(true);

   // console.log(arrayspd[arrayspd.length-1].spd.width);
  //  console.log(arrayspd[arrayspd.length-1].spd.scale+" "+vw+" "+ 1152+"  "+sc);
 
}



function vbtci_onDown(){
  escribep(huesi1.id);/*
  var vsube={posx:thiss.x/vw,posy:thiss.y/vh,iddiente:thiss.id};



if(bolcrealineavertivalroja){
    arrlieansrojas[arrlieansrojas.length-1].sp.position=thiss.position; 

    estocadodiente1lienarojaveti=true;
    arrlieansrojas[arrlieansrojas.length-1].sp.enhueso=true;
    arrlieansrojas[arrlieansrojas.length-1].sp.estehueso=thiss.id;
    arrlieansrojas[arrlieansrojas.length-1].sp.subeafire=  vsube;
    bolcrealineavertivalroja=false;
}
*/


}








// fin // crea  los dientes 



// sube informacion  a  firebase


function sube(){


for(var i in arrlieansrojas){
if(arrlieansrojas[i].sp.enhueso){

    firebase.database().ref().child("phaser").child("lineaverticalroja").push(arrlieansrojas[i].sp.subeafire);
    subiocualquiera=true;
}
}



if(subiocualquiera){ document.getElementById("divodontograma").style.display="none"; subiocualquiera=false; arrayspd=[];game.destroy();
traesolounavesphaser();

}



}


// fin   sube informacion  a  firebase














//find e funciones  phaser














// finaliza  firebase 


// ejecuta funciones

//document.getElementById("divodontograma").style.display="none";























iniciabody();

















        </script>

    </body>

<!-- Mirrored from examples.phaser.io/embed.php?f=box2d/car+on+terrain.js&v=2.2.2.box2d by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Nov 2018 04:09:26 GMT -->
</html>
